# Variables de entorno para MercadoPago - Punto Legal
# Copiar a .env.local (frontend) y a .env (backend) según corresponda

# ===========================================
# ENTORNO GENERAL
# ===========================================
NODE_ENV=development
MODE=development

# ===========================================
# MERCADOPAGO - FRONTEND (solo claves públicas)
# ===========================================
# ✅ SEGURO - Solo claves públicas en el frontend
# Obtener de: https://www.mercadopago.com.ar/developers
# Usa un valor diferente según el entorno (TEST- en dev, APP_USR- en prod)
VITE_MERCADOPAGO_PUBLIC_KEY=TEST-tu-public-key-sandbox-aqui

# ===========================================
# MERCADOPAGO - BACKEND (SECRETOS)
# ===========================================
# ❌ CRÍTICO - Access Token NO debe estar en frontend
# Configurar en backend/server-side únicamente (.env, Supabase/hosting)
# Usa TEST- en desarrollo y APP_USR- en producción
# MERCADOPAGO_ACCESS_TOKEN=TEST-tu-access-token-sandbox-aqui

# ===========================================
# URLs DEL SITIO
# ===========================================
# URL base del sitio (debe ser HTTPS en producción)
VITE_APP_URL=https://www.puntolegal.online
VITE_APP_BASE_URL=https://www.puntolegal.online

# URLs de retorno para MercadoPago (deben ser HTTPS en producción)
# Frontend (opcional para scripts/utilidades):
VITE_SUCCESS_URL=https://www.puntolegal.online/payment-success?source=mercadopago
VITE_FAILURE_URL=https://www.puntolegal.online/payment-failure?source=mercadopago
VITE_PENDING_URL=https://www.puntolegal.online/payment-pending?source=mercadopago

# Backend (si tu servidor crea la preferencia con estas URLs):
# SUCCESS_URL=https://www.puntolegal.online/payment-success?source=mercadopago
# FAILURE_URL=https://www.puntolegal.online/payment-failure?source=mercadopago
# PENDING_URL=https://www.puntolegal.online/payment-pending?source=mercadopago

# URL del webhook (consumida por tu backend/edge function)
MP_WEBHOOK_URL=https://www.puntolegal.online/api/mercadopago/webhook

# ===========================================
# SUPABASE
# ===========================================
# Credenciales de Supabase
VITE_SUPABASE_URL=https://tu-proyecto.supabase.co
VITE_SUPABASE_ANON_KEY=tu-anon-key-aqui
SUPABASE_SERVICE_ROLE_KEY=tu-service-role-key-aqui

# ===========================================
# RESEND (EMAILS) - BACKEND ONLY
# ===========================================
# ❌ CRÍTICO - API Key NO debe estar en frontend
# Configurar en Supabase Edge Functions únicamente
# RESEND_API_KEY=re_tu-resend-api-key-aqui

# ✅ SEGURO - Solo configuración de email en frontend
VITE_MAIL_FROM=Tu Nombre <tu-email@dominio.com>
VITE_ADMIN_EMAIL=tu-admin-email@dominio.com

# ===========================================
# EDGE FUNCTIONS - BACKEND ONLY
# ===========================================
# ❌ CRÍTICO - Admin Token NO debe estar en frontend
# Configurar en Supabase Edge Functions únicamente
# EDGE_ADMIN_TOKEN=tu-edge-admin-token-seguro-aqui

# ===========================================
# CONFIGURACIÓN PARA DESARROLLO LOCAL
# ===========================================
# Para desarrollo local, usar:
# VITE_APP_URL=http://localhost:5173
# VITE_APP_BASE_URL=http://localhost:5173
# VITE_MERCADOPAGO_PUBLIC_KEY=TEST-tu-public-key-sandbox-aqui
# (Backend) MERCADOPAGO_ACCESS_TOKEN=TEST-tu-access-token-sandbox-aqui
# VITE_SUCCESS_URL=http://localhost:5173/payment-success?source=mercadopago
# VITE_FAILURE_URL=http://localhost:5173/payment-failure?source=mercadopago
# VITE_PENDING_URL=http://localhost:5173/payment-pending?source=mercadopago

# ===========================================
# NOTAS IMPORTANTES
# ===========================================
# 1. NUNCA subir archivos .env al repositorio
# 2. En producción, configurar variables en el panel del hosting
# 3. Nunca exponer MERCADOPAGO_ACCESS_TOKEN en el frontend
# 4. Las credenciales de producción solo deben usarse en producción
# 5. Las credenciales de sandbox son para desarrollo y pruebas
# 6. Todas las URLs deben ser HTTPS en producción
# 7. El webhook debe ser accesible públicamente
