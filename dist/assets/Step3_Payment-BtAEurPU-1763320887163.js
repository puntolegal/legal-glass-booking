import{u as G,a as b,j as e,C as g,i as p,L as V,k as H,l as U,m as w}from"./index-BVa25N6P-1763320887163.js";import{r}from"./vendor-BWCXAlAd-1763320887163.js";import{m as N}from"./animations-D4jTGLyv-1763320887163.js";import"./router-CWP80P1o-1763320887163.js";import"./ui-CvcY_BWp-1763320887163.js";import"./utils-C4xBKWBT-1763320887163.js";import"./supabase-BGJpVdvS-1763320887163.js";const R=()=>{const{service:t,serviceColor:C,priceCalculation:x,selectedDate:f,selectedTime:k,selectedMeetingType:D,formData:m,setStep:y,handleBookingAndPayment:v,isLoading:a,error:c}=G(),{precioFinal:o,precioConConvenio:h}=x,n=r.useMemo(()=>{const s=t.category.toLowerCase();return b[s]||b.general},[t.category]),u=(s,l)=>{const j=parseInt(s.slice(1,3),16),_=parseInt(s.slice(3,5),16),E=parseInt(s.slice(5,7),16);return`rgba(${j}, ${_}, ${E}, ${l})`},d=r.useMemo(()=>`linear-gradient(135deg, ${n.primary}, ${n.accent})`,[n]);r.useMemo(()=>u(n.accent,.9),[n]);const P=s=>{const l=new Date(s);return new Intl.DateTimeFormat("es-CL",{weekday:"long",day:"numeric",month:"long",timeZone:"America/Santiago"}).format(l)},S=()=>{switch(D){case"videollamada":return"Videollamada (Google Meet)";case"telefonica":return"Llamada Telefónica";case"presencial":return"Presencial";default:return""}},i=o==="0"||h===0;return e.jsxDEV(N.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-[rgba(15,23,42,0.78)] backdrop-blur-xl border border-white/10 rounded-3xl p-6 md:p-7 shadow-[0_24px_52px_rgba(15,23,42,0.6)]",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxDEV("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",style:{background:d,boxShadow:`0 8px 24px ${u(n.primary,.4)}`},"aria-hidden":"true",children:e.jsxDEV(g,{className:"w-6 h-6 text-white"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:89,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:81,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-xl font-bold text-white",children:"Resumen de tu Agendamiento"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:92,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-slate-400",children:"Revisa los detalles antes de confirmar"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:93,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:91,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:80,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex justify-between items-start pb-4 border-b border-slate-700",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-slate-500",children:"Servicio"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:101,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-base font-semibold text-white",children:t.name},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:102,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-xs text-slate-400",children:t.category},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:103,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:100,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-right",children:e.jsxDEV("p",{className:"text-2xl font-bold text-transparent bg-clip-text",style:{backgroundImage:d},children:["$",o]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:106,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:105,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:99,columnNumber:11},void 0),e.jsxDEV("div",{className:"pb-4 border-b border-slate-700",children:[e.jsxDEV("p",{className:"text-sm text-slate-500 mb-2",children:"Tus datos"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:117,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-white",children:m.nombre},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:118,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-slate-400",children:m.email},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:119,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-slate-400",children:m.telefono},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:120,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:116,columnNumber:11},void 0),e.jsxDEV("div",{className:"pb-4 border-b border-slate-700",children:[e.jsxDEV("p",{className:"text-sm text-slate-500 mb-2",children:"Fecha y hora"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:125,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-white capitalize",children:P(f)},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:126,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-slate-400",children:[k," hrs"]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:127,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-slate-500 mt-1",children:S()},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:128,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:124,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:97,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:79,columnNumber:7},void 0),!i&&e.jsxDEV("div",{className:"bg-[rgba(15,23,42,0.78)] backdrop-blur-xl border border-white/10 rounded-3xl p-6 md:p-7 shadow-[0_24px_52px_rgba(15,23,42,0.6)]",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxDEV("div",{className:"w-12 h-12 rounded-xl bg-slate-700/50 flex items-center justify-center",children:e.jsxDEV(p,{className:"w-6 h-6 text-slate-300"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:138,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:137,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-bold text-white",children:"Método de Pago"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:141,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-slate-400",children:"Procesado por Mercado Pago"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:142,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:140,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:136,columnNumber:11},void 0),e.jsxDEV("div",{className:"bg-slate-900/50 rounded-xl p-4 space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsxDEV(V,{className:"w-4 h-4 text-emerald-400"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:148,columnNumber:15},void 0),e.jsxDEV("span",{children:"Transacción 100% segura y encriptada"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:149,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:147,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsxDEV(H,{className:"w-4 h-4 text-emerald-400"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:152,columnNumber:15},void 0),e.jsxDEV("span",{children:"Protección al comprador incluida"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:153,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:151,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-slate-500 mt-2",children:"Serás redirigido a Mercado Pago para completar tu pago de forma segura."},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:155,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:146,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:135,columnNumber:9},void 0),c&&e.jsxDEV(N.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},role:"alert","aria-live":"assertive",className:"p-4 rounded-xl bg-red-500/10 border border-red-500/30",children:[e.jsxDEV("p",{className:"text-sm text-red-400 font-medium",children:c},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:171,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-xs text-red-300/70 mt-1",children:"Si el problema persiste, contáctanos directamente."},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:172,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:164,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>y(2),disabled:a,className:"flex-1 py-4 px-6 rounded-xl font-semibold bg-slate-800 border border-slate-700 text-slate-300 hover:bg-slate-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[e.jsxDEV(U,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:186,columnNumber:11},void 0),"Anterior"]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:180,columnNumber:9},void 0),e.jsxDEV("button",{type:"button",onClick:v,disabled:a,className:"flex-[2] py-5 px-8 rounded-xl font-semibold text-white shadow-2xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 text-lg transform hover:scale-105 active:scale-100 bg-[#009EE3] hover:bg-[#0084C7]",style:{boxShadow:"0 26px 52px rgba(0, 158, 227, 0.35)"},"aria-label":a?"Procesando pago...":i?"Confirmar reserva gratuita":`Pagar ${o} con Mercado Pago`,children:a?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(w,{className:"w-5 h-5 animate-spin"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:208,columnNumber:15},void 0),"Procesando..."]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:207,columnNumber:13},void 0):i?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(g,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:213,columnNumber:15},void 0),"Confirmar Reserva"]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:212,columnNumber:13},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(p,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:218,columnNumber:15},void 0),"Pagar $",o," con Mercado Pago"]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:217,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:190,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:179,columnNumber:7},void 0)]},"step3",!0,{fileName:"/Users/macbook/Documents/GitHub/legal-glass-booking/src/components/agendamiento/steps/Step3_Payment.tsx",lineNumber:70,columnNumber:5},void 0)};export{R as default};
